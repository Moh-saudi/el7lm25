# ุฅุตูุงุญ ูุดููุฉ ุตูุฑ ุงููุงุนุจูู - ุชุญุฏูุซ ูุธุงู ุนุฑุถ ุงูุตูุฑ

## ๐ ุงููุดููุฉ ุงูุชู ุชู ุฅุตูุงุญูุง

ูุงูุช ููุงู ูุดููุฉ ูู ูุนุงูุฌุฉ ุตูุฑ ุงูููู ุงูุดุฎุตู ููุงุนุจูู ูู ุตูุญุฉ ุงูููุฏูููุงุชุ ุญูุซ ูุงู ุงููุธุงู ููุธูุฑ ุงูุฎุทุฃ:

```
Invalid player profile_image: Object
```

ูุฐุง ูุนูู ุฃู ุจุนุถ ุตูุฑ ุงููุงุนุจูู ูุงูุช ูุฎุฒูุฉ ูู **Objects** ุจุฏูุงู ูู ุฑูุงุจุท ูุตูุฉุ ููุง ูุงู ูุณุจุจ ูุดุงูู ูู ุงูุนุฑุถ.

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฏุงูุฉ ูุนุงูุฌุฉ ูุญุณููุฉ ููุตูุฑ

```typescript
const getPlayerImageUrl = (profileImage: any, fallback: string = '/images/default-avatar.png'): string => {
  if (!profileImage) return fallback;
  
  if (typeof profileImage === 'string') {
    return profileImage || fallback;
  }
  
  if (typeof profileImage === 'object') {
    // ูุญุงููุฉ ุงุณุชุฎุฑุงุฌ URL ูู ูุงุฆู ุงูุตูุฑุฉ
    if (profileImage.url) return profileImage.url;
    if (profileImage.downloadURL) return profileImage.downloadURL;
    if (profileImage.src) return profileImage.src;
    if (profileImage.path) return profileImage.path;
    
    // ุฅุฐุง ูุงู ุงููุงุฆู ูุญุชูู ุนูู ุฎุตุงุฆุต Firebase Storage
    if (profileImage.bucket && profileImage.fullPath) {
      console.warn('Firebase Storage object detected, but no download URL available');
    }
  }
  
  return fallback;
};
```

### 2. ูููู PlayerImage ูุญุณูู

ุชู ุฅูุดุงุก ูููู ุฌุฏูุฏ `PlayerImage` ูููุฑ:

- **ูุนุงูุฌุฉ ุฐููุฉ ููุตูุฑ**: ูุชุนุงูู ูุน ุฌููุน ุฃููุงุน ูุตุงุฏุฑ ุงูุตูุฑ
- **ุชุญููู ูุคุฌู**: ุชุญุณูู ุงูุฃุฏุงุก ูุน lazy loading
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุชุจุฏูู ุชููุงุฆู ููุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ
- **ุฃุญุฌุงู ูุชุนุฏุฏุฉ**: sm, md, lg, xl
- **ุญุงูุงุช ุงูุชุญููู**: ุนุฑุถ ูุคุดุฑ ุงูุชุญููู ูุงูุฃุฎุทุงุก

#### ุงูุงุณุชุฎุฏุงู:
```tsx
<PlayerImage 
  src={playerData.profile_image} 
  alt="ุงุณู ุงููุงุนุจ"
  size="lg"
/>
```

### 3. ุชุญุณููุงุช ุงูุฃุฏุงุก

- **ุชุญูู ูุณุจู**: ุงุฎุชุจุงุฑ ุชุญููู ุงูุตูุฑุฉ ูุจู ุนุฑุถูุง
- **ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช**: ุชุฌูุจ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุฑ
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุนุฏู ุฅุธูุงุฑ ุฃุฎุทุงุก ูู ูุญุฏุฉ ุงูุชุญูู

## ๐ง ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### ูู `src/app/dashboard/club/player-videos/page.tsx`:

1. **ุฅุถุงูุฉ ุฏุงูุฉ ูุนุงูุฌุฉ ุงูุตูุฑ**:
   ```typescript
   const getPlayerImageUrl = (profileImage: any, fallback: string) => { ... }
   ```

2. **ุชุจุณูุท ูุนุงูุฌุฉ ุงูุตูุฑ**:
   ```typescript
   const playerImage = getPlayerImageUrl(
     playerData.profile_image || playerData.profile_image_url
   );
   ```

3. **ุงุณุชุฎุฏุงู ุงููููู ุงูุฌุฏูุฏ**:
   ```tsx
   <PlayerImage 
     src={video.playerImage} 
     alt={video.playerName}
     size="lg"
   />
   ```

### ุฅูุดุงุก `src/components/ui/player-image.tsx`:

ูููู ูุงูู ูุฅุฏุงุฑุฉ ุนุฑุถ ุตูุฑ ุงููุงุนุจูู ูุน ุฌููุน ุงูุญุงูุงุช ุงููุฎุชููุฉ.

## ๐ ุฃููุงุน ุงูุตูุฑ ุงููุฏุนููุฉ

ุงููููู ุงูุฌุฏูุฏ ูุชุนุงูู ูุน:

### 1. ุฑูุงุจุท ูุตูุฉ
```javascript
"https://example.com/image.jpg"
"/images/player.jpg"
```

### 2. ูุงุฆูุงุช Firebase
```javascript
{
  url: "https://firebasestorage.googleapis.com/...",
  downloadURL: "https://firebasestorage.googleapis.com/..."
}
```

### 3. ูุงุฆูุงุช ุตูุฑ ูุฎุตุตุฉ
```javascript
{
  src: "path/to/image.jpg",
  path: "storage/path/image.jpg"
}
```

### 4. ูุงุฆูุงุช Firebase Storage
```javascript
{
  bucket: "project.appspot.com",
  fullPath: "images/players/player1.jpg",
  // ูุน ุชุญุฐูุฑ ูููุทูุฑ ุฅุฐุง ูู ููู ููุงู downloadURL
}
```

## ๐ฏ ุงููุชุงุฆุฌ

### โ ุชู ุฅุตูุงุญู:
- ูุง ูุฒูุฏ ูู ุฑุณุงุฆู ุงูุฎุทุฃ `Invalid player profile_image: Object`
- ุนุฑุถ ุตุญูุญ ูุฌููุน ุตูุฑ ุงููุงุนุจูู
- ุชุญููู ุณุฑูุน ููุญุณูู ููุตูุฑ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู

### ๐ ุชุญุณููุงุช ุฅุถุงููุฉ:
- ูุนุงูุฌุฉ ุฐููุฉ ูุฌููุน ุฃููุงุน ูุตุงุฏุฑ ุงูุตูุฑ
- ุชุญููู ูุคุฌู ูุชุญุณูู ุงูุฃุฏุงุก
- ูุคุดุฑุงุช ุชุญููู ูุญุงูุงุช ุฎุทุฃ ูุงุถุญุฉ
- ุฃุญุฌุงู ุตูุฑ ูุชุนุฏุฏุฉ ููุฑูุฉ

## ๐ฎ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฃุญุฌุงู ุงูุตูุฑ
```tsx
<PlayerImage size="sm" />   <!-- 32x32px -->
<PlayerImage size="md" />   <!-- 48x48px -->
<PlayerImage size="lg" />   <!-- 64x64px -->
<PlayerImage size="xl" />   <!-- 80x80px -->
```

### 2. ุตูุฑ ุงุญุชูุงุทูุฉ ูุฎุตุตุฉ
```tsx
<PlayerImage 
  src={imageSrc}
  fallback="/custom-fallback.png"
/>
```

### 3. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุชููุงุฆูุฉ
- ุชุจุฏูู ุชููุงุฆู ููุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ ุนูุฏ ูุดู ุงูุชุญููู
- ุนุฑุถ ุฃููููุฉ ูุณุชุฎุฏู ุนูุฏ ูุฌูุฏ ุฎุทุฃ
- ูุคุดุฑ ุชุญููู ุฃุซูุงุก ุฌูุจ ุงูุตูุฑุฉ

## ๐ ูููุทูุฑูู

### ููููุฉ ุฅุถุงูุฉ ุฏุนู ูููุน ุตูุฑุฉ ุฌุฏูุฏ:

ูู ุฏุงูุฉ `processImageSrc` ุฏุงุฎู `PlayerImage.tsx`:

```typescript
if (typeof source === 'object') {
  // ุฅุถุงูุฉ ุฏุนู ูููุน ุฌุฏูุฏ
  if (source.yourNewProperty) return source.yourNewProperty;
  
  // ุจุงูู ุงููุนุงูุฌุฉ...
}
```

### ุงุฎุชุจุงุฑ ุงูุตูุฑ:

```typescript
// ุงุฎุชุจุงุฑ ุณุฑูุน ูู ูุญุฏุฉ ุงูุชุญูู
console.log(getPlayerImageUrl(playerData.profile_image));
```

## ๐ ุชุญุณููุงุช ุงูุฃุฏุงุก

- **ุชูููู ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ**: ุฅุฒุงูุฉ ุงููุฑุงุฌุน ุบูุฑ ุงููุณุชุฎุฏูุฉ
- **ุชุญููู ูุคุฌู**: ุงูุตูุฑ ุชูุญูู ุนูุฏ ุงูุญุงุฌุฉ ููุท
- **ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช**: ุชุฌูุจ ุฅุนุงุฏุฉ ุชุญููู ููุณ ุงูุตูุฑุฉ
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุนุฏู ุฅุนุงุฏุฉ ุงููุญุงููุฉ ููุตูุฑ ุงููุนุทูุฉ

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅุตูุงุญ ูุดููุฉ ุตูุฑ ุงููุงุนุจูู ุจุดูู ูุงูู ูุน ุฅุถุงูุฉ ุชุญุณููุงุช ุดุงููุฉ ููุธุงู ุนุฑุถ ุงูุตูุฑ ูู ุงูุชุทุจูู. ุงููุธุงู ุงูุขู ุฃูุซุฑ ูุฑููุฉ ูููุฉ ูู ุงูุชุนุงูู ูุน ุฌููุน ุฃููุงุน ูุตุงุฏุฑ ุงูุตูุฑ.

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: ุฏูุณูุจุฑ 2024  
**ุงูุญุงูุฉ**: โ ููุชูู ููุฎุชุจุฑ 
