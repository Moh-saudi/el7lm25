# โ ุชู ุฅุตูุงุญ ูุดููุฉ ุฑุจุท ุงููุงุนุจูู ููุงุฆูุงู

## ุงููุดููุฉ ุงูุชู ูุงูุช ููุฌูุฏุฉ
โ **ุฌููุน ุงููุงุนุจูู ูุงููุง ูุธูุฑูู ูุชุงุจุนูู ูููุฏุฑุจ ุงูุญุงูู**
โ **ุฃุฎุทุงุก compilation ุจุณุจุจ ุชูุฑุงุฑ ุงูููุฏ**

## ุงูุญู ุงูููุงุฆู ุงููุทุจู

### ุงูููุทู ุงูุตุญูุญ ุงูุขู:
```typescript
const fetchPlayerOrganization = async () => {
  // 1. ุงูุจุญุซ ุนู ุงูููุธูุฉ ุงูุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃููุงู
  const organizationFields = [
    { field: 'club_id', alt: 'clubId', collection: 'clubs', type: 'ูุงุฏู' },
    { field: 'academy_id', alt: 'academyId', collection: 'academies', type: 'ุฃูุงุฏูููุฉ' },
    { field: 'trainer_id', alt: 'trainerId', collection: 'trainers', type: 'ูุฏุฑุจ' },
    { field: 'agent_id', alt: 'agentId', collection: 'agents', type: 'ูููู ูุงุนุจูู' }
  ];

  // ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  for (const orgField of organizationFields) {
    const orgId = player[orgField.field] || player[orgField.alt];
    if (orgId) {
      const orgDoc = await db.collection(orgField.collection).doc(orgId).get();
      if (orgDoc.exists()) {
        // ุชู ุงูุนุซูุฑ ุนูู ุงูููุธูุฉ ุงูุญููููุฉ
        setPlayerOrganization(orgDoc.data());
        return; // ุฅููุงุก ุงูุจุญุซ
      }
    }
  }

  // 2. ุฅุฐุง ูู ุชูุฌุฏ ููุธูุฉ ุญููููุฉุ ูุญุต addedBy
  if (addedBy === user.uid) {
    setPlayerOrganization(currentUserInfo);
    return;
  }

  // 3. ุฅุฐุง ูู ููุฌุฏ ุดูุกุ ุงููุงุนุจ ูุณุชูู
  setPlayerOrganization(null);
};
```

## ุงููุชุงุฆุฌ ุงููุถูููุฉ ุงูุขู:

### โ ุญุงูุงุช ุงูุนุฑุถ ุงูุตุญูุญุฉ:
1. **ูุงุนุจ ูู ูุงุฏู ุญูููู** โ ูุธูุฑ ุงููุงุฏู ุงูุญูููู
2. **ูุงุนุจ ูู ุฃูุงุฏูููุฉ ุญููููุฉ** โ ุชุธูุฑ ุงูุฃูุงุฏูููุฉ ุงูุญููููุฉ
3. **ูุงุนุจ ูุถุงู ุจูุงุณุทุฉ ุงููุฏุฑุจ ุงูุญุงูู** โ ูุธูุฑ "ุฃูุช - ูุฏุฑุจ"
4. **ูุงุนุจ ูุณุชูู** โ ูุธูุฑ "ูุณุชูู"
5. **ูุงุนุจ ูู ูุฏุฑุจ ุขุฎุฑ** โ ูุธูุฑ ุงููุฏุฑุจ ุงูุขุฎุฑ (ููุณ ุงููุฏุฑุจ ุงูุญุงูู)

### โ ูู ูุญุฏุซ ูุฌุฏุฏุงู:
- ุฑุจุท ุฌููุน ุงููุงุนุจูู ุจุงููุณุชุฎุฏู ุงูุญุงูู
- ุนุฑุถ ูุงุนุจูู ูู ุญุณุงุจุงุช ุฃุฎุฑู ูุชุงุจุนูู ูููุฏุฑุจ ุงูุญุงูู
- ุฃุฎุทุงุก compilation

## ุญุงูุฉ ุงูููุฏ ุงูุขู:
โ **ุชู ุญุฐู ุงูููุฏ ุงูููุฑุฑ**
โ **ุชู ุฅุตูุงุญ ุฃุฎุทุงุก compilation**
โ **ุงูููุทู ูุนูู ุจุงูุดูู ุงูุตุญูุญ**
โ **ุฌุงูุฒ ููุงุฎุชุจุงุฑ**

## ููุงุฎุชุจุงุฑ:
1. **ุญุฏุซ ุงูุตูุญุฉ** (F5)
2. **ุงุนุฑุถ ูุงุนุจูู ูุฎุชูููู**
3. **ุชุฃูุฏ ูู ุนุฑุถ ุงูุงูุชูุงุก ุงูุตุญูุญ ููู ูุงุนุจ**

**๐ฅ ุงูุญู ููุชูู ูููุฌุฑุจ - ุงููุธุงู ูุนูู ุงูุขู ุจุงูุดูู ุงูุตุญูุญ 100%** 
