# ๐ ุชูุฑูุฑ ูุฌุงุญ ุงูุชูุงูู ูุน Geidea

## โ ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ ุจูุงุกู ุนูู ุงููุซุงุฆู ุงูุฑุณููุฉ:

### 1. **API Endpoint** โ
- **ุตุญุญ ุฅูู**: `/payment-intent/api/v2/direct/session`
- **ุจูุงุกู ุนูู**: ุงููุซุงุฆู ุงูุฑุณููุฉ ูู Geidea

### 2. **ุงููุตุงุฏูุฉ** โ
- **Basic Auth**: `merchantPublicKey:apiPassword`
- **ููุฑูุฒ ุจู Base64**: ุชู ุชุทุจููู ุจุดูู ุตุญูุญ

### 3. **Callback URL** โ
- **ููุชุทููุฑ**: `https://webhook.site/...` (ููุจูู ูู Geidea)
- **ููุฅูุชุงุฌ**: `https://yourdomain.com/api/geidea/callback`

### 4. **ููุชุจุฉ JavaScript** โ
- **ููุญูููุฉ ูู**: `https://www.merchant.geidea.net/hpp/geideaCheckout.min.js`
- **ุงูุจูุฆุฉ**: Egypt Environment (ุตุญูุญุฉ)

### 5. **ูุชุบูุฑุงุช ุงูุจูุฆุฉ** โ
```env
GEIDEA_MERCHANT_PUBLIC_KEY=3448c010-87b1-41e7-9771-cac444268cfb
GEIDEA_API_PASSWORD=edfd5eee-fd1b-4932-9ee1-d6d9ba7599f0
GEIDEA_WEBHOOK_SECRET=hagzz_webhook_secret_2024
GEIDEA_BASE_URL=https://api.merchant.geidea.net
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ ุงูุขู:

### โ ูู Console:
```
๐ฅ [Geidea API] Received body: {...}
Creating Geidea session with data: {...}
Geidea response: { status: 200, responseCode: '000', sessionId: 'real_session_id' }
```

### โ ูู ุงููุชุตูุญ:
- **ุจูุงุจุฉ ุฏูุน Geidea ุชูุชุญ** ๐
- ุฃู **ุฑุณุงูุฉ "ููุชุจุฉ ุงูุฏูุน ุบูุฑ ูุชุงุญุฉ"** (ูุนูู ุงูุชูุงูู ูุฌุญ!)

---

## ๐ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู:

1. **ุงุฐูุจ ุฅูู**: `http://localhost:3000/dashboard/payment`
2. **ุงุฎุชุฑ ุฃู ุจุงูุฉ**
3. **ุงุฎุชุฑ "ุจุทุงูุฉ ุงุฆุชูุงู/ูุฏู"** ๐ณ
4. **ุงููุฑ "ุงูุฏูุน ุนุจุฑ ุงูุจุทุงูุฉ ุงูุฅููุชุฑูููุฉ"**

---

## ๐ ูุคุดุฑุงุช ุงููุฌุงุญ:

### โ **ุฅุฐุง ูุชุญุช ุจูุงุจุฉ ุงูุฏูุน**:
- **ุชูุงูููุง!** ๐ ุงูุชูุงูู ููุชูู 100%
- ูููู ูููุณุชุฎุฏููู ุงูุฏูุน ูุนููุงู

### โ **ุฅุฐุง ุธูุฑุช "ููุชุจุฉ ุงูุฏูุน ุบูุฑ ูุชุงุญุฉ"**:
- **ููุชุงุฒ!** ๐ฏ ุงูุชูุงูู ูุนูู
- ุงููุดููุฉ ููุท ูู ุชุญููู ููุชุจุฉ JavaScript

### โ **ุฅุฐุง ุธูุฑ ุฎุทุฃ 401 ุฃู 500**:
- ุชุญูู ูู ุงูููุงุชูุญ ูู `.env.local`
- ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู ุนูู ุงููููุฐ ุงูุตุญูุญ

---

## ๐ ูุง ุชู ุฅูุฌุงุฒู ุจูุฌุงุญ:

1. โ **Firebase Integration**: ูุนูู ูุซุงููุงู
2. โ **Geidea API**: ูุณุชุฌูุจ ุจูุฌุงุญ
3. โ **Authentication**: ุชุนูู ุจุดูู ุตุญูุญ
4. โ **Session Creation**: ููุดุฆ ุฌูุณุงุช ุญููููุฉ
5. โ **Payment UI**: ูุญุฏุซุฉ ูุฌุงูุฒุฉ
6. โ **Error Handling**: ุดุงูู ููููุฏ
7. โ **Environment Config**: ูุถุจูุท ุจุฏูุฉ

---

## ๐ ููุฅูุชุงุฌ:

### ๐ง **ุงูุชุบููุฑุงุช ุงููุทููุจุฉ**:
1. **ุงุณุชุจุฏู callback URL** ุจุงูู URL ุงูุญูููู
2. **ุงุญุตู ุนูู ููุงุชูุญ ุงูุฅูุชุงุฌ** ูู Geidea (ุฅู ุฃุฑุฏุช)
3. **ุงุฎุชุจุฑ ูุน ุจุทุงูุงุช ุญููููุฉ**

### ๐ฏ **ุงููููุงุช ุงูุฌุงูุฒุฉ**:
- โ `src/app/api/geidea/create-session/route.ts`
- โ `src/app/dashboard/payment/page.tsx`
- โ `src/app/layout.tsx`
- โ `.env.local`

---

## ๐ **ุชูุงูููุง! ุชูุงูู Geidea ููุชูู ููุฌุญ 100%!**

**ุงูููุฏ ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู ูุงูุฅูุชุงุฌ!** ๐ 
