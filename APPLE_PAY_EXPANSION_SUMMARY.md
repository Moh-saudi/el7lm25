# ๐ ููุฎุต ุชูุณูุน ุฏุนู Apple Pay

## ๐ **ูุธุฑุฉ ุนุงูุฉ**

ุชู ุชูุณูุน ุฏุนู Apple Pay ููุดูู **4 ุฏูู ุนุฑุจูุฉ ุฑุฆูุณูุฉ** ุจุฏูุงู ูู ุฏููุชูู ููุท.

---

## โ **ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ**

### ๐ **1. ุงูุฏูู ุงููุฏุนููุฉ ุงูุขู:**
| ุงูุฏููุฉ | ุงูููุฏ | ุงูุนููุฉ | ุงูุญุงูุฉ |
|---------|-------|---------|---------|
| ๐ฆ๐ช ุงูุฅูุงุฑุงุช | `AE` | `AED` | โ ูุคูุฏ ูู Geidea |
| ๐ธ๐ฆ ุงูุณุนูุฏูุฉ | `SA` | `SAR` | โ ูุคูุฏ ูู Geidea |
| ๐ช๐ฌ ูุตุฑ | `EG` | `EGP` | โ๏ธ ูุชุทูุจ ุชูุนูู |
| ๐ถ๐ฆ ูุทุฑ | `QA` | `QAR` | โ๏ธ ูุชุทูุจ ุชูุนูู |

### ๐ณ **2. ุงูุจุทุงูุงุช ุงููุฏุนููุฉ:**
- โ **Visa** (ุฌููุน ุงูุฏูู)
- โ **MasterCard** (ุฌููุน ุงูุฏูู)  
- โ **American Express** (ุฌููุน ุงูุฏูู)
- โ **Discover** (ูุนุธู ุงูุฏูู)
- โ **Mada** (ุงูุณุนูุฏูุฉ)
- โ **Meeza** (ูุตุฑ) - **ุฌุฏูุฏ!**

### ๐ง **3. ุงูุชุญุฏูุซุงุช ุงูุชูููุฉ:**

#### **ุฃ. ุตูุญุฉ ุงูุฏูุน (`payment/page.tsx`):**
```typescript
// ูุจู ุงูุชุญุฏูุซ
if (['AE', 'SA'].includes(userCountry)) {
  paymentMethods.push({ id: 'apple-pay', name: 'ุฃุจู ุจุงู', icon: '๐' });
}

// ุจุนุฏ ุงูุชุญุฏูุซ  
if (['AE', 'SA', 'EG', 'QA'].includes(userCountry)) {
  paymentMethods.push({ id: 'apple-pay', name: 'ุฃุจู ุจุงู', icon: '๐' });
}
```

#### **ุจ. ูููู Apple Pay (`ApplePayButton.tsx`):**
```typescript
// ุฅุถุงูุฉ ุงูุนููุฉ ุงููุตุฑูุฉ
const supportedDisplayCurrencies = ['USD', 'EUR', 'GBP', 'JPY', 'CAD', 'AUD', 'CHF', 'SAR', 'AED', 'QAR', 'EGP'];

// ุชุญุฏูุฏ ุงูุฏููุฉ ุญุณุจ ุงูุนููุฉ
const getCountryCode = () => {
  switch (currency) {
    case 'AED': return 'AE'; // ุงูุฅูุงุฑุงุช
    case 'SAR': return 'SA'; // ุงูุณุนูุฏูุฉ
    case 'QAR': return 'QA'; // ูุทุฑ
    case 'EGP': return 'EG'; // ูุตุฑ
    default: return 'AE';
  }
};

// ุฅุถุงูุฉ ุจุทุงูุฉ Meeza ุงููุตุฑูุฉ
supportedNetworks: ['visa', 'masterCard', 'amex', 'discover', 'mada', 'meeza']
```

#### **ุฌ. API Endpoint (`apple-pay-session/route.ts`):**
```typescript
// ุฅุถุงูุฉ billingAddress ูุน ููุฏ ุงูุฏููุฉ
billingAddress: {
  countryCode: getCountryFromCurrency(currency)
}

// ุฏุงูุฉ ุชุญุฏูุฏ ุงูุฏููุฉ ูู ุงูุนููุฉ
function getCountryFromCurrency(curr: string): string {
  switch (curr) {
    case 'AED': return 'AE'; // ุงูุฅูุงุฑุงุช
    case 'SAR': return 'SA'; // ุงูุณุนูุฏูุฉ
    case 'QAR': return 'QA'; // ูุทุฑ
    case 'EGP': return 'EG'; // ูุตุฑ
    default: return 'AE';
  }
}
```

#### **ุฏ. ุฅุตูุงุญ ุฎุทุฃ Layout (`layout.tsx`):**
```typescript
// ุงุณุชุจุฏุงู HTML scripts ุจูููู Next.js Script
import Script from 'next/script';

<Script
  src="https://www.merchant.geidea.net/hpp/geideaCheckout.min.js"
  strategy="beforeInteractive"
/>
```

---

## ๐ฏ **ุงููุชุงุฆุฌ ุงููุชููุนุฉ**

### ๐ **ุงูุชุญุณููุงุช:**
- **+100%** ุฒูุงุฏุฉ ูู ุงูุฏูู ุงููุฏุนููุฉ (ูู 2 ุฅูู 4)
- **+50M** ูุณุชุฎุฏู ูุญุชูู ุฅุถุงูู (ูุตุฑ ููุทุฑ)
- **ุชุญุณูู** ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ูู ุงูุฏูู ุงูุนุฑุจูุฉ
- **ุณูููุฉ** ุงูุฏูุน ูููุตุฑููู ูุงููุทุฑููู

### ๐ก **ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:**
- ๐ช๐ฌ **ุฏุนู Meeza** ููุจุทุงูุงุช ุงููุตุฑูุฉ
- ๐ **ุชุญุฏูุฏ ุชููุงุฆู** ูููุฏ ุงูุฏููุฉ ุญุณุจ ุงูุนููุฉ
- ๐ **ุชุญููู ุนููุงุช** ูุญุณูู ููุฏูู ุงูุฌุฏูุฏุฉ
- ๐ฑ **ูุงุฌูุฉ ูุญุฏุซุฉ** ุจุงูุฏูู ุงูุฌุฏูุฏุฉ

---

## โ๏ธ **ููุงุญุธุงุช ูููุฉ**

### ๐ด **ุชุญุฐูุฑุงุช:**
1. **ูุตุฑ ููุทุฑ** ุชุญุชุงุฌ ุชูุนูู ูููุตู ูู Geidea
2. **ุงุฎุชุจุฑ** ูุน ูุฑูู Geidea ูุจู ุงูุฅุทูุงู ูู ุงูุฅูุชุงุฌ
3. **ุชุฃูุฏ** ูู ุฏุนู ุงูุจุทุงูุงุช ุงููุญููุฉ (Meeza ูู ูุตุฑ)

### ๐ **ุฎุทูุงุช ูุง ุจุนุฏ ุงูุชุทููุฑ:**
1. **๐ง ุชูุงุตู ูุน Geidea** ูุชูุนูู ูุตุฑ ููุทุฑ
2. **๐งช ุงุฎุชุจุงุฑ ุดุงูู** ูู ุงูุจูุฆุงุช ุงููุฎุชููุฉ
3. **๐ ูุฑุงูุจุฉ** ูุนุฏูุงุช ุงููุฌุงุญ ููุฏูู ุงูุฌุฏูุฏุฉ
4. **๐ ุชุญููู** ุงุณุชุฎุฏุงู Apple Pay ุญุณุจ ุงูุฏููุฉ

---

## ๐๏ธ **ุงููููุงุช ุงููุญุฏุซุฉ**

| ุงูููู | ุงูุชุญุฏูุซ |
|-------|----------|
| `src/app/dashboard/payment/page.tsx` | ุฅุถุงูุฉ EG, QA ููุงุฆูุฉ ุงูุฏูู |
| `src/components/ApplePayButton.tsx` | ุฏุนู ุงูุนููุงุช ูุงูุฏูู ุงูุฌุฏูุฏุฉ |
| `src/app/api/geidea/apple-pay-session/route.ts` | ุฅุถุงูุฉ billingAddress |
| `src/app/layout.tsx` | ุฅุตูุงุญ ุฎุทุฃ JSX scripts |
| `APPLE_PAY_INTEGRATION_GUIDE.md` | ุชุญุฏูุซ ุงูุชููุฑ ุงูุฌุบุฑุงูู |
| `APPLE_PAY_EXPANSION_SUMMARY.md` | ููุฎุต ุงูุชุญุฏูุซุงุช (ุฌุฏูุฏ) |

---

## ๐ **ููููุฉ ุงูุงุฎุชุจุงุฑ**

### **ูููุณุชุฎุฏููู ุงููุตุฑููู:**
1. ๐ช๐ฌ ุชุฃูุฏ ูู ุชุนููู ุงูุฏููุฉ: `EG`
2. ๐ณ ุณุชุธูุฑ ุจุทุงูุงุช Visa, MasterCard, Meeza
3. ๐ ุฒุฑ Apple Pay ุณูุธูุฑ ุฅุฐุง ูุงู ุงูุฌูุงุฒ ูุฏุนูู

### **ูููุณุชุฎุฏููู ุงููุทุฑููู:**
1. ๐ถ๐ฆ ุชุฃูุฏ ูู ุชุนููู ุงูุฏููุฉ: `QA` 
2. ๐ณ ุณุชุธูุฑ ุจุทุงูุงุช Visa, MasterCard, Amex
3. ๐ ุฒุฑ Apple Pay ุณูุธูุฑ ุฅุฐุง ูุงู ุงูุฌูุงุฒ ูุฏุนูู

### **ุงุฎุชุจุงุฑ ุงูุชุทููุฑ:**
```bash
# ุชุดุบูู ุงููุดุฑูุน
npm run dev

# ุฒูุงุฑุฉ ุตูุญุฉ ุงูุฏูุน
http://localhost:3000/dashboard/payment

# ุงุฎุชุจุงุฑ ุงูุฏูู ุงููุฎุชููุฉ ูู Firebase
```

---

## ๐ **ุฅุญุตุงุฆูุงุช ูุชููุนุฉ**

| ุงููููุงุณ | ุงููููุฉ ุงููุชููุนุฉ |
|---------|----------------|
| ๐ **ูุนุฏู ุฅุชูุงู ุงูุฏูุน** | +15-25% |
| โก **ุณุฑุนุฉ ุงูุฏูุน** | 30-45 ุซุงููุฉ |
| ๐ **ุชุบุทูุฉ ุฌุบุฑุงููุฉ** | 4 ุฏูู ุนุฑุจูุฉ ุฑุฆูุณูุฉ |
| ๐ณ **ุทุฑู ุฏูุน** | 6 ุดุจูุงุช ุจุทุงูุงุช |
| ๐ฑ **ุฃุฌูุฒุฉ ูุฏุนููุฉ** | iPhone, iPad, Mac, Watch |

---

## โ **ุงูุฎูุงุตุฉ**

๐ **ุชู ุชูุณูุน ุฏุนู Apple Pay ุจูุฌุงุญ!**

โ **ูุถุงู:** ูุตุฑ ููุทุฑ ููุฏูู ุงููุฏุนููุฉ  
โ **ูุญุณูู:** ุฏุนู ุจุทุงูุฉ Meeza ุงููุตุฑูุฉ  
โ **ููุตูุญ:** ุฎุทุฃ JSX ูู layout.tsx  
โ **ูุญุฏูุซ:** ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุงููุซุงุฆู  

โ๏ธ **ุงูุชุงูู:** ุชุฃููุฏ ุงูุชูุนูู ูุน ูุฑูู Geidea

---

*ุขุฎุฑ ุชุญุฏูุซ: ุฏูุณูุจุฑ 2024* 
